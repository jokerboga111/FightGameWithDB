global class GameFightBatch implements Database.Batchable<sObject>{
    global Database.QueryLocator start(Database.BatchableContext BC){
        return Database.getQueryLocator([SELECT Id, Name, Health_Points__c, IsActive__c, Block_Time__c FROM Profile__c ]);
    }

    global void execute(Database.BatchableContext BC, List<sObject> scope){
        List<Profile__c> updateProfileList = new List<Profile__c>();
        for(Profile__c profile: (List<Profile__c>)scope){
            if (profile.Block_Time__c < DateTime.now().addDays(-1)) {
                profile.isActive__c = true;
            }
            if(profile.Race__c=='Human')
            {
            profile.Health_Points__c = 700;
            }
            else if(profile.Race__c=='Elven')
            {
            profile.Health_Points__c = 1000;
            }
            else if(profile.Race__c=='DarkSoul' )
            {
            profile.Health_Points__c = 800;
            }
            else if(profile.Race__c=='Tauren')
            {
            profile.Health_Points__c = 500;
            }
            updateProfileList.add(profile);
        }
        update updateProfileList;
        system.debug(updateProfileList);
    }

    global void finish(Database.BatchableContext BC){
//        system.debug(BC);
    }
}
